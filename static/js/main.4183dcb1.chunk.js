(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),c=a.n(l),u=a(2),o=a(7),i=a(13),s=a(4),m=a(3),p=a.n(m),h="image/GET_IMAGE_START",d="image/GET_IMAGE_SUCCESS",E="image/GET_IMAGE_FAILURE";function f(e){return{type:d,payload:e}}function g(e){return{type:E,payload:e}}var b=function(e){return e.image.image},w={image:null,loading:!1};var v="weather/GET_WEATHER_START",y="weather/GET_WEATHER_SUCCESS",_="weather/GET_WEATHER_FAILURE";function O(e){return{type:y,payload:e}}function T(e){return{type:_,payload:e}}var x=function(e){return e.weather.weather},j={weather:null,loading:!1};var C=Object(u.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(s.a)({},e,{loading:!0});case d:return Object(s.a)({},e,{image:t.payload,loading:!1});case E:return Object(s.a)({},e,{loading:!1});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(s.a)({},e,{loading:!0});case y:return Object(s.a)({},e,{weather:t.payload,loading:!1});case _:return Object(s.a)({},e,{loading:!1});default:return e}}}),S=(a(26),a(14)),I=(a(27),a(28),function(e){var t=new Date(1e3*e);return t.getHours()+":"+("0"+t.getMinutes()).substr(-2)}),k=function(e){var t=e.showInfo,a=e.weather,n=e.image;return t?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"photo__container"},r.a.createElement("img",{src:n.urls.small,alt:"City",className:"photo"})),r.a.createElement("div",{className:"title-content"},r.a.createElement("h3",null,a.name),r.a.createElement("hr",null),r.a.createElement("div",{className:"intro"},n.location.title)),r.a.createElement("p",{className:"info"},r.a.createElement("label",null,a.weather[0].description),r.a.createElement("span",null,r.a.createElement("label",null,"temperature:")," ",Math.round(a.main.temp),"\xb0C"),r.a.createElement("span",null,r.a.createElement("label",null,"perceived temperature:")," ",Math.round(a.main.feels_like),"\xb0C"),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:""},"humidity:")," ",Math.round(a.main.humidity),"%"),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:""},"temperature max:")," ",Math.round(a.main.temp_max),"\xb0C"),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:""},"temperature min:")," ",Math.round(a.main.temp_min),"\xb0C"),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:""},"sunrise: ")," ",I(a.sys.sunrise)),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:""},"sunset: ")," ",I(a.sys.sunset)))):null},A=function(e){var t=e.weather,a=e.getWeather,n=e.image,l=e.getImage,c=r.a.useState(""),u=Object(S.a)(c,2),o=u[0],i=u[1];return r.a.createElement("main",{className:"main"},r.a.createElement("input",{type:"text",onKeyPress:function(e){"Enter"===e.key&&(a(o),l(o),i(""))},onChange:function(e){return i(e.target.value)},value:o,className:"main__input",placeholder:"Choose a city..."}),r.a.createElement(k,{showInfo:null!==t&&null!==n,weather:t,image:n}))},M={getWeather:function(e){return function(t){var a,n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:v}),r.next=3,p.a.awrap(fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=").concat("ea69afac7ee734ece5f456bf9dd27957")));case 3:if((a=r.sent).ok){r.next=6;break}return r.abrupt("return",t(T("Unable to fetch")));case 6:return r.prev=6,r.next=9,p.a.awrap(a.json());case 9:n=r.sent,t(O(n)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),t(T(r.t0.message));case 16:case"end":return r.stop()}}),null,null,[[6,13]])}},getImage:function(e){return function(t){var a,n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:h}),r.next=3,p.a.awrap(fetch("https://api.unsplash.com/photos/random?client_id=".concat("61f3cd09c8dab3128186d77bfacc409468b699cc4ba1a4d8e0dfd259092e84b9","&query=").concat(e,"&orientation=landscape")));case 3:if((a=r.sent).ok){r.next=6;break}return r.abrupt("return",t(g("Unable to fetch")));case 6:return r.prev=6,r.next=9,p.a.awrap(a.json());case 9:n=r.sent,t(f(n)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),t(g(r.t0.message));case 16:case"end":return r.stop()}}),null,null,[[6,13]])}}},N=Object(o.b)((function(e){return window.console.log(e),{weather:x(e),image:b(e)}}),M)(A),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,R=Object(u.e)(C,G(Object(u.a)(i.a))),F=r.a.createElement(o.a,{store:R},r.a.createElement(N,null));c.a.render(F,document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4183dcb1.chunk.js.map